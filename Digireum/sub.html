<html>
<head>
	<style type="text/css">
	body{background-color:#000000;
		/*background-image: url('matrix_2.gif');*/
		background-size:30%;
	}

	@font-face {
		font-family: ArcaMajora3-Bold;
		src: url("font/ArcaMajora3-Bold.otf") format("opentype");
	}
	@font-face {
		font-family: Digivolve;
		src: url("font/Digivolve.otf") format("opentype");
	}
	.layer{
		position:absolute;
		top:50%;
		left:50%;
		transform:translate(-50%, -50%);
		width: 800;
		height: 800;
		background:url('egg/egg_black.gif') no-repeat right center;
	}
	.layer .h1 {
		position:absolute;
		top:98%;
		left:53%;
		transform:translate(-50%, -50%);
		background-color:transparent;
		width : 650;
		height : 50;
		font-size : 20pt;
		color: #ffffff;
		font-family: 'Digivolve';
		/*border-right:0px; border-top:0px; border-left:0px; border-bottom:1px solid #FFFFFF;*/
		text-align: center;
	}
</style>
</head>
<body>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<p>
		<br>
		<div class="layer">
			<form onsubmit="sendSay()">
				<input class="h1" type="text" placeholder ="Say anyting to your egg. And Enter." onkeydown="JavaScript:Enter_Check();" onKeyUp="this.value=this.value.toUpperCase();">
			</form>
		</div>
	</p>
</body>

<script src="https://cdn.rawgit.com/ethereum/web3.js/develop/dist/web3.js"></script>
<!-- script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script -->
<script>
	var contractAddress = '0x42ace1b0651eb0f2711bfcdd22480a6b674392b6';
	var digireumContract
	var digireum
	window.addEventListener('load', function() {
  // Checking if Web3 has been injected by the browser (Mist/MetaMask)
  if (typeof web3 !== 'undefined') {
    // Use Mist/MetaMask's provider
    window.web3 = new Web3(web3.currentProvider);
} else {
	console.log('No web3? You should consider trying MetaMask!')
	alert('You have no MetaMask!')
    // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
    window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
}
  // Now you can start your app & access web3 freely:
  startApp();
});
	function startApp() {
digireumContract = web3.eth.contract([{"constant":false,"inputs":[{"name":"say","type":"string"}],"name":"buyEgg","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"name","type":"string"}],"name":"login","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getRandomTamer","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_num","type":"uint256"}],"name":"checkEvol","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_adr","type":"address"},{"name":"_num","type":"uint256"}],"name":"getDigimonInfo","outputs":[{"name":"","type":"uint8"},{"name":"","type":"uint8"},{"name":"","type":"uint8"},{"name":"","type":"uint8"},{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_name","type":"string"}],"name":"getTamerInfo","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"adr","type":"address"}],"name":"getDigimonNumByAdr","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_num","type":"uint8"},{"name":"_love","type":"uint8"},{"name":"_eat","type":"uint8"},{"name":"_meet","type":"uint8"}],"name":"setDigimonInfo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalDigimonNum","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_num","type":"uint8"}],"name":"initializer","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_num","type":"uint256"}],"name":"Evolution","type":"event"}]);
		digireum = digireumContract.at(contractAddress);
	}
	function sendSay() {
		var newValue = $(".layer .h1").val();
		digireum.buyEgg.sendTransaction(String(newValue),{from:web3.eth.coinbase,to:contractAddress , value:web3.toWei(0.002, "ether")}, function(err, res){if(!err)console.log(res);});
	}

</script>

</html>